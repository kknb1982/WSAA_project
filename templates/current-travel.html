<html>
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
        <link href="/static/css/style.css" rel="stylesheet">
        <title>Incident news for current travel</title>
        <script src="/static/js/main.js" defer></script>
    </head>

    <body onload="loadCurrentTravel()">

        {% if session['userid'] %}
            <div style="background-color: lightgray; padding: 10px;">
                Logged in as: <strong>{{ session['userid'] }}</strong>
                <button class="button button5" href="window.location.href='/logout'">Logout</button>
            </div>
        {% endif %}

        <h1>Incident news for current travel</h1><br>

        <!-- Filters Section -->
        <div class="filters">
            <label for="filterCity">City:</label>
            <input type="text" id="filterCity" placeholder="Enter city" oninput="filterTravel()">

            <label for="filterCountry">Country:</label>
            <input type="text" id="filterCountry" placeholder="Enter country" oninput="filterTravel()">

            <label for="filterStartDate">Start Date:</label>
            <input type="date" id="filterStartDate" onchange="filterTravel()">

            <label for="filterEndDate">End Date:</label>
            <input type="date" id="filterEndDate" onchange="filterTravel()">
        </div>

        <!-- Button to Load Incident News -->
        <br>
        <div style="margin-top: 20px;">
            <button class="button button1" onclick="loadIncidentNews()">Load Incident News</button>
        </div>

        <div id="travelList">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Travel ID</th>
                        <th>User ID</th>
                        <th>Institution</th>
                        <th>City</th>
                        <th>Country</th>
                        <th>Travel Start</th>
                        <th>Travel End</th>
                        <th>News</th>
                    </tr>
                </thead>
                <tbody id="travelTableBody">
                    <!-- Travel data will be dynamically loaded here -->
                </tbody>
            </table>        
        </div>

        <br>
        <button class="button button2" onclick="window.location.href='/dashboard/{{session['userid']}}'">Back to Admin Dashboard</button>
    </body>
</html>