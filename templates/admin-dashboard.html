<html>
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
        <link href="/static/css/style.css" rel="stylesheet">
        <title>Admin Dashboard</title>
        <script src="/static/js/main.js" defer></script>
    </head>

    <body onload="check_travel_alerts()">
        {% if session['userid'] %}
            <div style="background-color: lightgray; padding: 10px;">
                Logged in as: <strong>{{ session['userid'] }}</strong>
                <button class="button button5" href="window.location.href='/logout'">Logout</button>
            </div>
        {% endif %}

        <h1>All Logged travel</h1><br>
        <div id="travelList">
            <table class=""table table-bordered>
                <thead>
                    <tr>
                        <th>Travel ID</th>
                        <th>User ID</th>
                        <th>Institution</th>
                        <th>City</th>
                        <th>Country</th>
                        <th>Travel Start</th>
                        <th>Travel End</th>
                        <th>News</th>
                    </tr>
                </thead>
                <tbody>
                    {% for travel in travel_data %}
                        <tr id="travel_{{ travel['travel_id'] }}">
                            <td>{{ travel['travelid'] }}</td>
                            <td>{{ travel['userid'] }}</td>
                            <td>{{ travel['institution'] }}</td>
                            <td>{{ travel['city'] }}</td>
                            <td>{{ travel['country'] }}</td>
                            <td>{{ travel['travelstart'] }}</td>
                            <td>{{ travel['travelend'] }}</td>
                            <td>
                                {% if travel['news'] %}
                                    <ul>
                                        {% for news in travel['news'] %}
                                            <li>
                                                <a href="{{ news['url'] }}" target="_blank">{{ news['title'] }}</a>
                                            </li>
                                        {% endfor %}
                                    </ul>
                                {% else %}
                                    No news available
                                {% endif %}
                            </td>
                        </tr>
                        {% endfor %}
                </tbody>
            </table>        
        </div>

        <button class="button button4" onclick="window.location.href='/'">Back to Home</button>
    </body>
</html>